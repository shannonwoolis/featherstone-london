{% assign secSt = section.settings %}
<div class="sec_cov" style="--sbg:{{ secSt.bg }};--sst:{{ secSt.sst }}px;--ssb:{{ secSt.ssb }}px;--sstm:{{ secSt.sstm }}px;--ssbm:{{ secSt.ssbm }}px;;--ttp:{{ secSt.tbp }}px;--tbp:{{ secSt.tbp | plus : 4 }}px">   
<div class="cl_box {{ section.settings.style }}{% if section.settings.sw %} fw-sec{% else %} page-width{% endif %}" data-section-id="{{ section.id }}" data-section-type="masonary">
  <h1 class="page-title {{ settings.title_align }}">{{ section.settings.title }}</h1>   
  {%- assign blocks = section.blocks | sort: 'collection.all_products_count' -%}	

    <div class="grid gspace rwcols-{{ section.settings.gridmb }} rwcols-md-{{ section.settings.gridtb }} rwcols-lg-{{ section.settings.grid }} collection-grid grid-masonary {{ section.settings.style }} mr-{{ section.settings.gspace }}"
         style="--grsp:0 -{{ section.settings.gspace | divided_by: 2.0 }}px;--grspi:0 {{ section.settings.gspace | divided_by: 2.0 }}px {{ section.settings.gspace }}px;--grspm:0 -{{ section.settings.gspacem | divided_by: 2.0 }}px;--grspim:0 {{ section.settings.gspacem | divided_by: 2.0 }}px {{ section.settings.gspacem }}px;">
      <div class="grid-sizer-{{ section.id }} pa"></div>
        {% for block in section.blocks %}
          {% capture current %}{% cycle 1, 2, 3, 4, 5, 6 %}{% endcapture %}
          <div class="gitem msitem">
            {%- assign collection = collections[block.settings.collection] -%}
            {% render 'collection-grid-item', collection: collection, block: block.settings, section: section.settings, current:current  %}
          </div>
        {% endfor %}     
    </div>
</div>
</div>
{% schema %}
  {
    "name": "Collections List Page",
    "settings": [	   
 	  {
            "label": "Page Title",
            "id": "title",
            "type": "text",
			"default":"All Collections"
      },    	  
 	 {
        "type": "header",
        "content": "Grid ==="
      },	     	     
	  {
        "type": "range",
        "id": "gspace",
        "label": "Grid Spacing",
        "default": 15,
        "min": 0,
        "max": 30,
        "step": 1,
		"unit":"px"
		
      },
     {
        "type": "range",
        "id": "gspacem",
        "label": "Grid Spacing (mobile)",
        "default": 10,
        "min": 0,
        "max": 15,
        "step": 1,
		"unit":"px"		
      },
		 {
        "type": "select",
        "id": "style",
        "label": "Grid style",
        "default": "cl_box3",
        "options": [
			{ "value": "cl_box1", "label": "Style 1" },
			{ "value": "cl_box2", "label": "Style 2" },
			{ "value": "cl_box3", "label": "Style 3" },
			{ "value": "cl_box4", "label": "Style 4" },
			{ "value": "cl_box5", "label": "Style 5" },
			{ "value": "cl_box6", "label": "Style 6" },
            { "value": "cl_box7", "label": "Style 7" }
        ]
      },	
       {
          "type":"checkbox",
          "id":"count",
          "label":"Show Products Count?",
          "default": false
        }, 
	  {
            "type": "checkbox",
            "id": "zoom",
            "label": "Enable Image zoom on hover?",
            "default": true
       },
	  {
        "type": "paragraph",
        "content": "Items per row ==="
      }, 	
      {
        "type": "range",
        "id": "grid",
        "label": "Desktop",
        "default": 4,
        "min": 2,
        "max": 7,
        "step": 1
      },
      {
        "type": "range",
        "id": "gridtb",
        "label": "Tablet",
        "default": 3,
        "min": 1,
        "max": 5,
        "step": 1
      },
      {
        "type": "range",
        "id": "gridmb",
        "label": "Mobile",
        "default": 2,
        "min": 1,
        "max": 3,
        "step": 1
      },
        {
            "type": "header",
            "content": "Text Appearance ==="
        },       
        {
            "type": "range",
            "id": "tbp",
            "label": "Text Padding Top/Bottom",
            "default": 12,
            "min": 10,
            "max": 25,
            "step": 1,
            "unit": "px",
            "info":"Optional. Work for style 2,3,4 and 5"
        },
         {
            "type": "color",
            "id": "ttl",
            "label": "Title",
            "default": "#fff"
        },
        {
            "type": "color",
            "id": "ttlbg",
            "label": "Title Background",
            "default": "#000"
        },        
        {
            "type": "range",
            "id": "ttl_opa",
            "min": 0,
            "max": 1,
            "step": 0.1,
            "label": "Background Opacity",
            "unit": "%",
            "default": 0.7
        },
        {
            "type": "range",
            "id": "fs",
            "label": "Font Size",
            "default": 18,
            "min": 12,
            "max": 60,
            "step": 1,
            "unit": "px"
        },
        {
            "type": "range",
            "id": "fsm",
            "label": "Font Size (mobile)",
            "default": 16,
            "min": 12,
            "max": 40,
            "step": 1,
            "unit": "px"
        },
        {
            "type": "select",
            "id": "ft",
            "label": "Font Family",
            "default": "ft1",
            "options": [
                {
                    "value": "ft1",
                    "label": "Font 1"
                },
                {
                    "value": "ft2",
                    "label": "Font 2"
                },
                {
                    "value": "ft3",
                    "label": "Font 3"
                }
            ]
        },
        {
            "type": "select",
            "id": "fw",
            "label": "Font Weight",
            "default": "400",
            "options": [
                {
                    "value": "300",
                    "label": "Light"
                },
                {
                    "value": "400",
                    "label": "Regular"
                },
                {
                    "value": "500",
                    "label": "Medium"
                },
                {
                    "value": "600",
                    "label": "Semi Bold"
                },
                {
                    "value": "700",
                    "label": "Bold"
                }
            ]
        },       
		{
            "type": "header",
            "content": "Section"
        },
		{
            "type": "paragraph",
            "content": "Spacing ===="
        },
		{
			"type": "range",
			"id": "sst",
			"min": 0,
			"max": 100,
			"step": 5,
			"label": "Top",
			"unit": "px",
			"default":30
        },
		{
			"type": "range",
			"id": "ssb",
			"min": 0,
			"max": 100,
			"step": 5,
			"label": "Bottom",
			"unit": "px",
			"default":30
        },
		{
            "type": "paragraph",
            "content": "Spacing (mobile) ===="
        },
		{
			"type": "range",
			"id": "sstm",
			"min": 0,
			"max": 100,
			"step": 5,
			"label": "Top",
			"unit": "px",
			"default":15
        },
		{
			"type": "range",
			"id": "ssbm",
			"min": 0,
			"max": 100,
			"step": 5,
			"label": "Bottom",
			"unit": "px",
			"default":15
        },       
        {
            "type": "color",
            "id": "bg",
            "label": "Background",
            "info":"select light color"
        },	
        {
            "type":"checkbox",
            "id":"sw",
            "label":"Fullwidth?",
            "default": false           
        } 
    ],
    "blocks": [
      {
        "type": "featured_collection",
        "name": "Collection",
        "settings": [
          {
            "label": "Collection",
            "id": "collection",
            "type": "collection"
          },
		 {
			"type":"image_picker",
			"id":"image",
			"label":"Upload Image"
		  },
		  {
 			"type":"textarea",
			"id":"title",
			"label":"Title",		
			"default":"Women Tops"
		  }		
        ]
      }
    ]
  }
{% endschema %}